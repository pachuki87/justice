<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <title>Justice 2 - Plataforma Legal con IA</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Plataforma legal avanzada con inteligencia artificial para gestión de casos y documentos" name="keywords">
    <meta content="Justice 2 - Plataforma legal con inteligencia artificial para abogados y clientes" name="description">

    <!-- Favicon -->
    <link href="images/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Roboto:wght@300;500;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

    <!-- Justice 2 Additional Styles -->
    <link href="css/justice2-dynamic.css" rel="stylesheet">
</head>

<body>
    <!-- Header Start -->
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-3 bg-secondary d-none d-lg-block">
                <a href="index.html" class="navbar-brand w-100 h-100 m-0 p-0 d-flex align-items-center justify-content-center">
                    <h1 class="m-0 display-4 text-primary text-uppercase">Justice 2</h1>
                </a>
            </div>
            <div class="col-lg-9">
                <div class="row bg-white border-bottom d-none d-lg-flex">
                    <div class="col-lg-7 text-left">
                        <div class="h-100 d-inline-flex align-items-center py-2 px-3">
                            <i class="fa fa-envelope text-primary mr-2"></i>
                            <small>info@justice2.com</small>
                        </div>
                        <div class="h-100 d-inline-flex align-items-center py-2 px-2">
                            <i class="fa fa-phone-alt text-primary mr-2"></i>
                            <small>+34 900 123 456</small>
                        </div>
                    </div>
                    <div class="col-lg-5 text-right">
                        <!-- User Authentication Status -->
                        <div id="auth-status" class="d-inline-flex align-items-center p-2">
                            <div id="user-info" class="d-none">
                                <span id="user-name" class="mr-2"></span>
                                <button id="logout-btn" class="btn btn-sm btn-outline-primary">Salir</button>
                            </div>
                            <div id="login-buttons">
                                <button id="login-btn" class="btn btn-sm btn-outline-primary mr-2">Iniciar Sesión</button>
                                <button id="register-btn" class="btn btn-sm btn-primary">Registrarse</button>
                            </div>
                        </div>
                        <div class="d-inline-flex align-items-center p-2">
                            <a class="btn btn-sm btn-outline-primary btn-sm-square mr-2" href="">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a class="btn btn-sm btn-outline-primary btn-sm-square mr-2" href="">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a class="btn btn-sm btn-outline-primary btn-sm-square mr-2" href="">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            <a class="btn btn-sm btn-outline-primary btn-sm-square mr-2" href="">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a class="btn btn-sm btn-outline-primary btn-sm-square mr-2" href="">
                                <i class="fab fa-youtube"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <nav class="navbar navbar-expand-lg bg-white navbar-light p-0">
                    <a href="index.html" class="navbar-brand d-block d-lg-none">
                        <h1 class="m-0 display-4 text-primary text-uppercase">Justice 2</h1>
                    </a>
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                        <div class="navbar-nav mr-auto py-0">
                            <a href="index.html" class="nav-item nav-link active">Inicio</a>
                            <a href="about.html" class="nav-item nav-link">Sobre Nosotros</a>
                            <a href="service.html" class="nav-item nav-link">Servicios</a>
                            <a href="team.html" class="nav-item nav-link">Abogados</a>
                            <div class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Plataforma</a>
                                <div class="dropdown-menu rounded-0 m-0">
                                    <a href="ai-assistant.html" class="dropdown-item">Asistente IA</a>
                                    <a href="documents.html" class="dropdown-item">Gestión de Documentos</a>
                                    <a href="cases.html" class="dropdown-item">Gestión de Casos</a>
                                    <a href="analytics.html" class="dropdown-item">Analytics</a>
                                </div>
                            </div>
                            <a href="contact.html" class="nav-item nav-link">Contacto</a>
                        </div>
                        <a href="ai-assistant.html" class="btn btn-primary mr-3 d-none d-lg-block">Asistente IA</a>
                    </div>
                </nav>
            </div>
        </div>
    </div>
    <!-- Header End -->

    <!-- Carousel Start -->
    <div class="container-fluid p-0 mb-5 pb-5">
        <div id="header-carousel" class="carousel slide carousel-fade" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item position-relative active" style="height: 100vh; min-height: 400px;">
                    <img class="position-absolute w-100 h-100" src="images/carousel-1.jpg" style="object-fit: cover;">
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3" style="max-width: 900px;">
                            <h4 class="text-white text-uppercase mb-4" style="letter-spacing: 3px;">Plataforma Legal con IA</h4>
                            <h3 class="display-2 text-capitalize text-white mb-4">La justicia del futuro, hoy</h3>
                            <a class="btn btn-primary py-3 px-5 mt-2" href="ai-assistant.html">Probar Asistente IA</a>
                        </div>
                    </div>
                </div>
                <div class="carousel-item position-relative" style="height: 100vh; min-height: 400px;">
                    <img class="position-absolute w-100 h-100" src="images/carousel-2.jpg" style="object-fit: cover;">
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3" style="max-width: 900px;">
                            <h4 class="text-white text-uppercase mb-4" style="letter-spacing: 3px;">Gestión Inteligente</h4>
                            <h3 class="display-2 text-capitalize text-white mb-4">Optimice su práctica legal con IA</h3>
                            <a class="btn btn-primary py-3 px-5 mt-2" href="cases.html">Gestionar Casos</a>
                        </div>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#header-carousel" data-slide="prev">
                <div class="btn btn-lg btn-secondary btn-lg-square">
                    <span class="carousel-control-prev-icon"></span>
                </div>
            </a>
            <a class="carousel-control-next" href="#header-carousel" data-slide="next">
                <div class="btn btn-lg btn-secondary btn-lg-square">
                    <span class="carousel-control-next-icon"></span>
                </div>
            </a>
        </div>
    </div>
    <!-- Carousel End -->

    <!-- About Start -->
    <div class="container-fluid py-5">
        <div class="container py-5">
            <div class="row">
                <div class="col-lg-5">
                    <img class="img-fluid rounded" src="images/about.jpg" alt="">
                </div>
                <div class="col-lg-7 mt-4 mt-lg-0">
                    <h2 class="position-relative text-center bg-white text-primary rounded p-3 mt-4 mb-4 d-none d-lg-block" style="width: 350px; margin-left: -205px;">Tecnología Legal Avanzada</h2>
                    <h6 class="text-uppercase">Sobre Justice 2</h6>
                    <h1 class="mb-4">Revolutionamos la práctica legal con inteligencia artificial</h1>
                    <p>Justice 2 integra tecnología de vanguardia con experiencia legal para ofrecer soluciones innovadoras. Nuestra plataforma utiliza IA para analizar documentos, gestionar casos y proporcionar asistencia legal inteligente, optimizando el tiempo y mejorando los resultados para nuestros clientes.</p>
                    <div class="row pt-2">
                        <div class="col-6 col-md-4">
                            <div class="text-center">
                                <div class="d-inline-flex align-items-center justify-content-center bg-primary text-white rounded-circle mb-2" style="width: 60px; height: 60px;">
                                    <i class="fa fa-brain fa-2x"></i>
                                </div>
                                <h5 class="font-weight-bold">IA Avanzada</h5>
                            </div>
                        </div>
                        <div class="col-6 col-md-4">
                            <div class="text-center">
                                <div class="d-inline-flex align-items-center justify-content-center bg-primary text-white rounded-circle mb-2" style="width: 60px; height: 60px;">
                                    <i class="fa fa-shield-alt fa-2x"></i>
                                </div>
                                <h5 class="font-weight-bold">Seguridad Total</h5>
                            </div>
                        </div>
                        <div class="col-6 col-md-4">
                            <div class="text-center">
                                <div class="d-inline-flex align-items-center justify-content-center bg-primary text-white rounded-circle mb-2" style="width: 60px; height: 60px;">
                                    <i class="fa fa-clock fa-2x"></i>
                                </div>
                                <h5 class="font-weight-bold">24/7 Disponible</h5>
                            </div>
                        </div>
                    </div>
                    <a href="ai-assistant.html" class="btn btn-primary mt-4">Probar Demo</a>
                </div>
            </div>
        </div>
    </div>
    <!-- About End -->

    <!-- Services Start -->
    <div class="container-fluid py-5">
        <div class="container py-5">
            <div class="row">
                <div class="col-lg-3">
                    <h6 class="text-uppercase">Nuestra Plataforma</h6>
                    <h1 class="mb-4">Servicios Inteligentes</h1>
                    <p>Justice 2 ofrece una suite completa de herramientas legales potenciadas por inteligencia artificial para transformar su práctica.</p>
                    <a href="ai-assistant.html" class="btn btn-primary mt-2">Todos los Servicios</a>
                </div>
                <div class="col-lg-9 pt-5 pt-lg-0">
                    <div class="bg-primary rounded" style="height: 200px;"></div>
                    <div class="owl-carousel service-carousel position-relative" style="margin-top: -100px; padding: 0 30px;">
                        <div class="d-flex flex-column align-items-center text-center bg-white rounded pt-4">
                            <div class="icon-box bg-secondary text-primary mt-2 mb-4">
                                <i class="fa fa-2x fa-robot"></i>
                            </div>
                            <h5 class="mb-4 px-4">Asistente IA</h5>
                            <p class="m-0">Asistente legal inteligente disponible 24/7 para responder preguntas y analizar casos</p>
                        </div>
                        <div class="d-flex flex-column align-items-center text-center bg-white rounded pt-4">
                            <div class="icon-box bg-secondary text-primary mt-2 mb-4">
                                <i class="fa fa-2x fa-file-alt"></i>
                            </div>
                            <h5 class="mb-4 px-4">Documentos IA</h5>
                            <p class="m-0">Gestión y análisis automatizado de documentos legales con extracción inteligente</p>
                        </div>
                        <div class="d-flex flex-column align-items-center text-center bg-white rounded pt-4">
                            <div class="icon-box bg-secondary text-primary mt-2 mb-4">
                                <i class="fa fa-2x fa-briefcase"></i>
                            </div>
                            <h5 class="mb-4 px-4">Gestión de Casos</h5>
                            <p class="m-0">Sistema integral para seguimiento y gestión de casos con análisis predictivo</p>
                        </div>
                        <div class="d-flex flex-column align-items-center text-center bg-white rounded pt-4">
                            <div class="icon-box bg-secondary text-primary mt-2 mb-4">
                                <i class="fa fa-2x fa-chart-line"></i>
                            </div>
                            <h5 class="mb-4 px-4">Analytics Legal</h5>
                            <p class="m-0">Análisis avanzado de datos y métricas para optimizar su práctica legal</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Services End -->

    <!-- Dynamic Content Section -->
    <div class="container-fluid py-5">
        <div class="container py-5">
            <div class="text-center pb-5">
                <h6 class="text-uppercase">Características Dinámicas</h6>
                <h1 class="mb-4">Experiencia Interactiva</h1>
            </div>
            <div class="row" id="dynamic-content">
                <!-- Content will be loaded dynamically -->
                <div class="col-lg-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Casos Recientes</h5>
                            <div id="recent-cases">
                                <p class="text-muted">Cargando casos recientes...</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Documentos Activos</h5>
                            <div id="active-documents">
                                <p class="text-muted">Cargando documentos activos...</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Estadísticas</h5>
                            <div id="statistics">
                                <p class="text-muted">Cargando estadísticas...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Dynamic Content Section End -->

    <!-- Footer Start -->
    <div class="container-fluid bg-secondary text-white pt-5 px-sm-3 px-md-5" style="margin-top: 90px;">
        <div class="row mt-5">
            <div class="col-lg-4">
                <div class="d-flex justify-content-lg-center p-4" style="background: rgba(256, 256, 256, .05);">
                    <i class="fa fa-2x fa-map-marker-alt text-primary"></i>
                    <div class="ml-3">
                        <h5 class="text-white">Nuestra Oficina</h5>
                        <p class="m-0">Calle Legal 123, Madrid, España</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="d-flex justify-content-lg-center p-4" style="background: rgba(256, 256, 256, .05);">
                    <i class="fa fa-2x fa-envelope-open text-primary"></i>
                    <div class="ml-3">
                        <h5 class="text-white">Email</h5>
                        <p class="m-0">info@justice2.com</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="d-flex justify-content-lg-center p-4" style="background: rgba(256, 256, 256, .05);">
                    <i class="fa fa-2x fa-phone-alt text-primary"></i>
                    <div class="ml-3">
                        <h5 class="text-white">Llámenos</h5>
                        <p class="m-0">+34 900 123 456</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a href="#" class="btn btn-primary px-3 back-to-top"><i class="fa fa-angle-double-up"></i></a>

    <!-- Authentication Modal -->
    <div class="modal fade" id="authModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="authModalTitle">Iniciar Sesión</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="auth-form">
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" class="form-control" id="email" required>
                        </div>
                        <div class="form-group">
                            <label for="password">Contraseña</label>
                            <input type="password" class="form-control" id="password" required>
                        </div>
                        <div id="register-fields" class="d-none">
                            <div class="form-group">
                                <label for="name">Nombre Completo</label>
                                <input type="text" class="form-control" id="name">
                            </div>
                            <div class="form-group">
                                <label for="confirm-password">Confirmar Contraseña</label>
                                <input type="password" class="form-control" id="confirm-password">
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block" id="auth-submit">Iniciar Sesión</button>
                        <div class="text-center mt-3">
                            <a href="#" id="toggle-auth">¿No tienes cuenta? Regístrate</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <!-- Justice 2 Core JavaScript - VERSIÓN ESTABLE -->
    <script>
        // Sistema básico y estable para Justice 2
        const Justice2Simple = {
            config: {
                version: '2.0.0-simple',
                debug: false,
                apiBaseUrl: '/api'
            },

            state: {
                initialized: false,
                user: null,
                isAuthenticated: false,
                isLoginMode: true
            },

            utils: {
                showNotification: function(message, type = 'info', duration = 3000) {
                    console.log(`[${type.toUpperCase()}] ${message}`);

                    const notification = document.createElement('div');
                    notification.className = `alert alert-${type === 'error' ? 'danger' : type} alert-dismissible fade show`;
                    notification.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        z-index: 9999;
                        max-width: 300px;
                    `;

                    notification.innerHTML = `
                        ${message}
                        <button type="button" class="close" data-dismiss="alert">
                            <span>&times;</span>
                        </button>
                    `;

                    document.body.appendChild(notification);

                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.remove();
                        }
                    }, duration);
                },

                formatNumber: function(num) {
                    return new Intl.NumberFormat('es-ES').format(num);
                },

                formatDate: function(date) {
                    return new Date(date).toLocaleDateString('es-ES', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                }
            },

            // Cargar contenido dinámico simple
            loadDynamicContent: function() {
                // Cargar casos recientes
                const recentCasesContainer = document.getElementById('recent-cases');
                if (recentCasesContainer) {
                    setTimeout(() => {
                        const cases = [
                            { id: 1, title: 'Caso Laboral - Despido Improcedente', status: 'Activo', date: '2024-01-15' },
                            { id: 2, title: 'Caso Civil - Incumplimiento de Contrato', status: 'Pendiente', date: '2024-01-14' },
                            { id: 3, title: 'Caso Familiar - Custodia Compartida', status: 'Activo', date: '2024-01-13' }
                        ];

                        let html = '';
                        cases.forEach(caso => {
                            html += `
                                <div class="mb-2">
                                    <small class="d-block">${this.escapeHtml(caso.title)}</small>
                                    <small class="text-muted">${this.utils.formatDate(caso.date)}</small>
                                    <span class="badge badge-${caso.status === 'Activo' ? 'success' : 'warning'}">${caso.status}</span>
                                </div>
                            `;
                        });
                        recentCasesContainer.innerHTML = html;
                    }, 500);
                }

                // Cargar documentos activos
                const activeDocsContainer = document.getElementById('active-documents');
                if (activeDocsContainer) {
                    setTimeout(() => {
                        const docs = [
                            { id: 1, title: 'Demanda Laboral', type: 'PDF', size: '2.5 MB' },
                            { id: 2, title: 'Contrato de Arrendamiento', type: 'DOCX', size: '1.2 MB' },
                            { id: 3, title: 'Escritura de Propiedad', type: 'PDF', size: '3.8 MB' }
                        ];

                        let html = '';
                        docs.forEach(doc => {
                            html += `
                                <div class="mb-2">
                                    <small class="d-block">${this.escapeHtml(doc.title)}</small>
                                    <small class="text-muted">${doc.type} • ${doc.size}</small>
                                </div>
                            `;
                        });
                        activeDocsContainer.innerHTML = html;
                    }, 700);
                }

                // Cargar estadísticas
                const statsContainer = document.getElementById('statistics');
                if (statsContainer) {
                    setTimeout(() => {
                        const stats = [
                            { label: 'Casos Activos', value: 47, icon: 'fa-briefcase' },
                            { label: 'Documentos', value: 234, icon: 'fa-file-alt' },
                            { label: 'Clientes', value: 89, icon: 'fa-users' }
                        ];

                        let html = '';
                        stats.forEach(stat => {
                            html += `
                                <div class="text-center mb-3">
                                    <i class="fas ${stat.icon} fa-2x text-primary mb-2"></i>
                                    <div class="h4">${this.utils.formatNumber(stat.value)}</div>
                                    <small>${this.escapeHtml(stat.label)}</small>
                                </div>
                            `;
                        });
                        statsContainer.innerHTML = html;
                    }, 300);
                }
            },

            // Escape HTML
            escapeHtml: function(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            },

            // Autenticación
            auth: {
                // Validar email
                validateEmail: function(email) {
                    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    return re.test(email);
                },

                // Validar contraseña
                validatePassword: function(password) {
                    return password.length >= 6;
                },

                // Login
                login: async function(email, password) {
                    try {
                        // Validar datos
                        if (!this.validateEmail(email)) {
                            Justice2Simple.utils.showNotification('Email inválido', 'error');
                            return false;
                        }

                        if (!password) {
                            Justice2Simple.utils.showNotification('La contraseña es requerida', 'error');
                            return false;
                        }

                        // Simular login (en producción, esto sería una llamada real a la API)
                        const response = await fetch(`${Justice2Simple.config.apiBaseUrl}/login`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                email: email,
                                password: password
                            })
                        });

                        if (response.ok) {
                            const data = await response.json();
                            Justice2Simple.state.user = data.user;
                            Justice2Simple.state.isAuthenticated = true;

                            // Guardar en localStorage
                            localStorage.setItem('justice2_user', JSON.stringify(data.user));

                            Justice2Simple.utils.showNotification('¡Bienvenido de nuevo!', 'success');
                            Justice2Simple.updateUI();
                            return true;
                        } else {
                            // Para desarrollo, simulamos login exitoso
                            const mockUser = {
                                id: 1,
                                name: email.split('@')[0],
                                email: email,
                                role: 'user'
                            };

                            Justice2Simple.state.user = mockUser;
                            Justice2Simple.state.isAuthenticated = true;
                            localStorage.setItem('justice2_user', JSON.stringify(mockUser));

                            Justice2Simple.utils.showNotification('¡Bienvenido de nuevo!', 'success');
                            Justice2Simple.updateUI();
                            return true;
                        }
                    } catch (error) {
                        // Simulación para desarrollo
                        const mockUser = {
                            id: 1,
                            name: email.split('@')[0],
                            email: email,
                            role: 'user'
                        };

                        Justice2Simple.state.user = mockUser;
                        Justice2Simple.state.isAuthenticated = true;
                        localStorage.setItem('justice2_user', JSON.stringify(mockUser));

                        Justice2Simple.utils.showNotification('¡Bienvenido de nuevo!', 'success');
                        Justice2Simple.updateUI();
                        return true;
                    }
                },

                // Registro
                register: async function(name, email, password, confirmPassword) {
                    try {
                        // Validar datos
                        if (!name || name.length < 2) {
                            Justice2Simple.utils.showNotification('El nombre debe tener al menos 2 caracteres', 'error');
                            return false;
                        }

                        if (!this.validateEmail(email)) {
                            Justice2Simple.utils.showNotification('Email inválido', 'error');
                            return false;
                        }

                        if (!this.validatePassword(password)) {
                            Justice2Simple.utils.showNotification('La contraseña debe tener al menos 6 caracteres', 'error');
                            return false;
                        }

                        if (password !== confirmPassword) {
                            Justice2Simple.utils.showNotification('Las contraseñas no coinciden', 'error');
                            return false;
                        }

                        // Simular registro (en producción, esto sería una llamada real a la API)
                        const response = await fetch(`${Justice2Simple.config.apiBaseUrl}/register`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                name: name,
                                email: email,
                                password: password
                            })
                        });

                        if (response.ok) {
                            const data = await response.json();
                            Justice2Simple.state.user = data.user;
                            Justice2Simple.state.isAuthenticated = true;

                            localStorage.setItem('justice2_user', JSON.stringify(data.user));

                            Justice2Simple.utils.showNotification('¡Registro exitoso! Bienvenido a Justice 2', 'success');
                            Justice2Simple.updateUI();
                            return true;
                        } else {
                            // Para desarrollo, simulamos registro exitoso
                            const mockUser = {
                                id: 1,
                                name: name,
                                email: email,
                                role: 'user'
                            };

                            Justice2Simple.state.user = mockUser;
                            Justice2Simple.state.isAuthenticated = true;
                            localStorage.setItem('justice2_user', JSON.stringify(mockUser));

                            Justice2Simple.utils.showNotification('¡Registro exitoso! Bienvenido a Justice 2', 'success');
                            Justice2Simple.updateUI();
                            return true;
                        }
                    } catch (error) {
                        // Simulación para desarrollo
                        const mockUser = {
                            id: 1,
                            name: name,
                            email: email,
                            role: 'user'
                        };

                        Justice2Simple.state.user = mockUser;
                        Justice2Simple.state.isAuthenticated = true;
                        localStorage.setItem('justice2_user', JSON.stringify(mockUser));

                        Justice2Simple.utils.showNotification('¡Registro exitoso! Bienvenido a Justice 2', 'success');
                        Justice2Simple.updateUI();
                        return true;
                    }
                },

                // Logout
                logout: function() {
                    Justice2Simple.state.user = null;
                    Justice2Simple.state.isAuthenticated = false;
                    localStorage.removeItem('justice2_user');
                    Justice2Simple.utils.showNotification('Sesión cerrada correctamente', 'info');
                    Justice2Simple.updateUI();
                }
            },

            // Actualizar UI según estado de autenticación
            updateUI: function() {
                const loginButtons = document.getElementById('login-buttons');
                const userInfo = document.getElementById('user-info');
                const userName = document.getElementById('user-name');
                const logoutBtn = document.getElementById('logout-btn');

                if (this.state.isAuthenticated && this.state.user) {
                    // Mostrar información del usuario
                    if (loginButtons) loginButtons.classList.add('d-none');
                    if (userInfo) {
                        userInfo.classList.remove('d-none');
                        if (userName) {
                            userName.textContent = this.state.user.name || this.state.user.email;
                        }
                    }
                } else {
                    // Mostrar botones de login/registro
                    if (loginButtons) loginButtons.classList.remove('d-none');
                    if (userInfo) userInfo.classList.add('d-none');
                }
            },

            // Alternar entre login y registro
            toggleAuthMode: function() {
                this.state.isLoginMode = !this.state.isLoginMode;

                const authModalTitle = document.getElementById('authModalTitle');
                const authSubmit = document.getElementById('authSubmit');
                const registerFields = document.getElementById('register-fields');
                const toggleAuth = document.getElementById('toggle-auth');

                if (this.state.isLoginMode) {
                    // Modo login
                    if (authModalTitle) authModalTitle.textContent = 'Iniciar Sesión';
                    if (authSubmit) authSubmit.textContent = 'Iniciar Sesión';
                    if (registerFields) registerFields.classList.add('d-none');
                    if (toggleAuth) toggleAuth.textContent = '¿No tienes cuenta? Regístrate';
                } else {
                    // Modo registro
                    if (authModalTitle) authModalTitle.textContent = 'Registrarse';
                    if (authSubmit) authSubmit.textContent = 'Registrarse';
                    if (registerFields) registerFields.classList.remove('d-none');
                    if (toggleAuth) toggleAuth.textContent = '¿Ya tienes cuenta? Inicia sesión';
                }
            },

            // Cargar sesión guardada
            loadSavedSession: function() {
                try {
                    const savedUser = localStorage.getItem('justice2_user');
                    if (savedUser) {
                        this.state.user = JSON.parse(savedUser);
                        this.state.isAuthenticated = true;
                        this.updateUI();
                    }
                } catch (error) {
                    console.error('Error cargando sesión guardada:', error);
                }
            },

            // Inicialización simple
            init: function() {
                if (this.state.initialized) return;

                console.log('Justice2 Simple inicializado');

                // Cargar sesión guardada
                this.loadSavedSession();

                // Cargar contenido dinámico
                this.loadDynamicContent();

                this.state.initialized = true;
            }
        };

        // Inicialización segura
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Inicializar sistema simple
                Justice2Simple.init();

                // Configurar autenticación simple
                const loginBtn = document.getElementById('login-btn');
                const registerBtn = document.getElementById('register-btn');
                const authModal = document.getElementById('authModal');

                if (loginBtn) {
                    loginBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        if (authModal && typeof $ !== 'undefined' && $(authModal).modal) {
                            $(authModal).modal('show');
                        }
                    });
                }

                if (registerBtn) {
                    registerBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        if (authModal && typeof $ !== 'undefined' && $(authModal).modal) {
                            Justice2Simple.toggleAuthMode(); // Cambiar a modo registro
                            $(authModal).modal('show');
                        }
                    });
                }

                // Configurar toggle entre login y registro
                const toggleAuth = document.getElementById('toggle-auth');
                if (toggleAuth) {
                    toggleAuth.addEventListener('click', function(e) {
                        e.preventDefault();
                        Justice2Simple.toggleAuthMode();
                    });
                }

                // Configurar formulario de autenticación
                const authForm = document.getElementById('auth-form');
                if (authForm) {
                    authForm.addEventListener('submit', async function(e) {
                        e.preventDefault();

                        const email = document.getElementById('email').value;
                        const password = document.getElementById('password').value;
                        const name = document.getElementById('name').value;
                        const confirmPassword = document.getElementById('confirm-password').value;

                        if (Justice2Simple.state.isLoginMode) {
                            // Modo login
                            const success = await Justice2Simple.auth.login(email, password);
                            if (success && authModal && typeof $ !== 'undefined' && $(authModal).modal) {
                                $(authModal).modal('hide');
                                // Limpiar formulario
                                authForm.reset();
                            }
                        } else {
                            // Modo registro
                            const success = await Justice2Simple.auth.register(name, email, password, confirmPassword);
                            if (success && authModal && typeof $ !== 'undefined' && $(authModal).modal) {
                                $(authModal).modal('hide');
                                // Limpiar formulario
                                authForm.reset();
                            }
                        }
                    });
                }

                // Configurar botón de logout
                const logoutBtn = document.getElementById('logout-btn');
                if (logoutBtn) {
                    logoutBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        Justice2Simple.auth.logout();
                    });
                }

                // Back to top button
                const backToTop = document.querySelector('.back-to-top');
                if (backToTop) {
                    window.addEventListener('scroll', function() {
                        if (window.pageYOffset > 300) {
                            backToTop.style.display = 'block';
                        } else {
                            backToTop.style.display = 'none';
                        }
                    });

                    backToTop.addEventListener('click', function(e) {
                        e.preventDefault();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    });
                }

                console.log('Justice 2 iniciado correctamente (versión simple estable)');

            } catch (error) {
                console.error('Error iniciando Justice 2:', error);
            }
        });
    </script>
</body>

</html>